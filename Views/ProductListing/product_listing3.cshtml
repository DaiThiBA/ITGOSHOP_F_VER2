@using System.Globalization;
@{
    Layout = "~/Views/Shared/_ClientLayout.cshtml";
    CultureInfo cul = CultureInfo.GetCultureInfo("vi-VN");
}
@model List<object>

@foreach (var item in @ViewBag.Brand)
{
    <section class="blog-single section " style="display: flex; flex-wrap: nowrap;">
        <div class="col-md-12  col-12 " style="padding-right: 80px; padding-left: 65px">
            <div class="main-sidebar" style="margin-top: 5px; margin-bottom: 20px; margin-left:17px; padding: 10px 40px; border: 1px solid #e3e7ef;">
                <div class="info">
                    <!-- Single Widget -->
                    <div class="blog-detail" style="padding-bottom: 30px">
                        <img src="~/public/images_upload/brand/@item.GetType().GetProperty("BrandLogo").GetValue(item, null)" style="float: left; width: 200px; height: 140;margin-right:15px;">
                        <h2 class="blog-title">@item.GetType().GetProperty("BrandName").GetValue(item, null)</h2>
                        <p>
                            @item.GetType().GetProperty("Description").GetValue(item, null)
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
}
<div class="ps-products-wrap pr-80 pl-80 pb-80">
    <div class="ps-products" data-mh="product-listing">
        <div class="ps-product-action">
            <div class="ps-product__filter">
                <form>
                    <select name="sort" id="sort" class="form-control" style="font-size:12px;">
                        <option value="{{Request::url()}}?sort_by=none" style="font-size:12px;">Sắp Xếp Theo</option>
                        <option value="{{Request::url()}}?sort_by=tangdan" style="font-size:12px;">_Giá Tăng Dần_ </option>
                        <option value="{{Request::url()}}?sort_by=giamdan" style="font-size:12px;">_Giá Giảm Dần_ </option>
                        <option value="{{Request::url()}}?sort_by=az" style="font-size:12px;">_A - Z_ </option>
                        <option value="{{Request::url()}}?sort_by=za" style="font-size:12px;">_Z - A_ </option>
                    </select>
                </form>
            </div>
        </div>
        <div class="ps-product__columns">
            @foreach (var item in @ViewBag.SubProduct)
            {
                <div class="ps-product__column" style="width: 250px; height: 350px; margin-right: 15px;">
                    <div class="single-product">
                        <div class="product-img" style="width: 250px; height: 200px;">
                            <a href="/ProductDetail/product_detail?productId=@item.GetType().GetProperty("ProductId").GetValue(item, null)">
                                <img class="default-img" style="margin: auto; width: 250px; height: 200px; width: auto; height: auto; " src="~/public/images_upload/product/@item.GetType().GetProperty("ProductImage").GetValue(item, null)" alt="#">
                                <img class="hover-img" src="~/public/images_upload/product/@item.GetType().GetProperty("ProductImage").GetValue(item, null)" alt="#">
                            </a>
                            <div class="button-head">
                                <div class="product-action">
                                    <a data-toggle="modal" data-target="#exampleModal" title="Quick View" href="#"><i class=" ti-eye"></i><span>Lượt xem: @item.GetType().GetProperty("View").GetValue(item, null)</span></a>
                                    <a title="Wishlist" href="#"><i class=" ti-heart "></i><span>Yêu thích</span></a>
                                    <a title="Compare" href="#"><i class="ti-bar-chart-alt"></i><span>So sánh</span></a>
                                </div>
                                <div class="product-action-2">
                                    <a title="Add to cart" class="add-to-cart-a-tag" href="javascript:void(0)">Thêm vào giỏ hàng</a>
                                    <input type="text" value="@item.GetType().GetProperty("ProductId").GetValue(item, null)" hidden>
                                </div>
                            </div>
                        </div>
                        <div class="product-content">
                            <h3><a href="/ProductDetail/product_detail?productId=@item.GetType().GetProperty("ProductId").GetValue(item, null)">@item.GetType().GetProperty("ProductName").GetValue(item, null)</a></h3>
                            <div class="product-price">
                                <span>@item.GetType().GetProperty("Price").GetValue(item, null).ToString("#,###", cul.NumberFormat) ₫</span>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

        {{ $all_product->links() }}
    </div>
    <div class="ps-sidebar" data-mh="product-listing">
        <aside class="ps-widget--sidebar ps-widget--category">
            <div class="ps-widget__header">
                <h2 style="font-weight: bold;">Thương hiệu nhánh</h2>
            </div>
            <div class="ps-widget__content">
                <ul class="ps-list--checked">
                    <!--<li class="current"><a href="product-listing.html">Life(521)</a></li>-->


                </ul>
            </div>
        </aside>
        <aside class="ps-widget--sidebar ps-widget--category">
            <div class="ps-widget__header">
                <h2 style="font-weight: bold;">CPU</h2>
            </div>
            <div class="ps-widget__content">
                <ul class="ps-list--checked">
                    <!--<li class="current"><a href="product-listing.html">Nike(521)</a></li>-->
                    <li><a href="product-listing.html">Intel Dual Core</a></li>
                    <li><a href="product-listing.html">Intel Core i3</a></li>
                    <li><a href="product-listing.html">Intel Core i5</a></li>
                    <li><a href="product-listing.html">Intel Core i7</a></li>
                    <li><a href="product-listing.html">Intel Core i9</a></li>
                    <li><a href="product-listing.html">Intel Xeon</a></li>
                    <li><a href="product-listing.html">AMD Ryzen 3</a></li>
                </ul>
            </div>
        </aside>
        <aside class="ps-widget--sidebar ps-widget--category">
            <div class="ps-widget__header">
                <h2 style="font-weight: bold;">RAM</h2>
            </div>
            <div class="ps-widget__content">
                <ul class="ps-list--checked">
                    <!--<li class="current"><a href="product-listing.html">Narrow</a></li>-->
                    <li><a href="product-listing.html">4 Gb</a></li>
                    <li><a href="product-listing.html">8 Gb</a></li>
                    <li><a href="product-listing.html">12 Gb</a></li>
                </ul>
            </div>
        </aside>
        <aside class="ps-widget--sidebar ps-widget--category">
            <div class="ps-widget__header">
                <h2 style="font-weight: bold;">Ổ cứng</h2>
            </div>
            <div class="ps-widget__content">
                <ul class="ps-list--checked">
                    <!--<li class="current"><a href="product-listing.html">Narrow</a></li>-->
                    <li><a href="product-listing.html">SSD</a></li>
                    <li><a href="product-listing.html">HDD</a></li>
                </ul>
            </div>
        </aside>
    </div>
</div>
<script type="text/javascript">
		$(document).ready(function(){
			$( "#slider-range" ).slider({
			range: true,
			min: {{$min_price_range}},
			max: {{$max_price_range}},
			step: 100000,
			values: [ {{$min_price}} , {{$max_price}} ],
			slide: function( event, ui ) {
				$( "#sotien" ).val( ui.values[ 0 ] + " đ - " + ui.values[ 1 ] + " đ");
				$( "#start_price" ).val( ui.values[ 0 ] );
				$( "#end_price" ).val( ui.values[ 1 ] );
			}
			});
			$( "#sotien" ).val( $( "#slider-range" ).slider( "values", 0 ) +
			" đ - " + $( "#slider-range" ).slider( "values", 1 ) + " đ");
		});

</script>
